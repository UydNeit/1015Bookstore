@using _1015bookstore.viewmodel.Catalog.Products;
@model _1015bookstore.viewmodel.Catalog.Categories.CategoryViewModel

@{
    ViewData["Title"] = "ProductCate";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid">

    <!-- DataTales Example -->
    <div class="card shadow mb-4">
        <div class="card-header py-3 d-sm-flex align-items-center justify-content-between">
            <h3 class="m-0 font-weight-bold text-primary">Thông tin danh mục sản phẩm</h3>
            <div>
                <a asp-action="Index">Trở lại danh sách</a>
            </div>
        </div>
        <div class="card-body">
            <dl class="row">
                <dt class = "col-sm-2">
                    @Html.DisplayNameFor(model => model.sCate_name)
                </dt>
                <dd class = "col-sm-10">
                    @Html.DisplayFor(model => model.sCate_name)
                </dd>
                <dt class = "col-sm-2">
                    @Html.DisplayNameFor(model => model.stCate_status)
                </dt>
                <dd class = "col-sm-10">
                    @Html.DisplayFor(model => model.stCate_status)
                </dd>
            </dl>
            <div style="margin-bottom: 20px">
                <form asp-action="SetProductCate" method="get">
                    <input type="hidden" name="id" value=@Model.iCate_id>
                    <input type="hidden" name="name" value="@{
                        @Model.sCate_name
}">
                    <button type="submit">+</button>
                </form>
            </div>
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>
                            ID
                        </th>
                        <th>
                            Tên sản phẩm
                        </th>
                        <th>
                            Giá
                        </th>
                        <th>
                            Số lượng hiện tại
                        </th>
                        <th>
                            Trạng thái
                        </th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in (List<ProductViewModel>)ViewBag.product)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.iProduct_id)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.sProduct_name)
                            </td>
                            <td>
                                @String.Format("{0:0.##}", item.vProduct_price)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.iProduct_quantity)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.stProduct_status)
                            </td>
                            <td>
                                <form asp-action="DeleteProductCate" method="post">
                                    <input type="hidden" name="cate_id" value=@Model.iCate_id>
                                    <input type="hidden" name="product_id" value=@item.iProduct_id>
                                    <button class="btn btn-primary" type="submit">-</button>
                                </form>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

</div>
